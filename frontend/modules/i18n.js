/* Internationalization â€“ translation strings and helpers */
import { $ } from './core.js';

const I18N = {
  zh: {
    app_title: "BiTranslator â€“ æ™ºèƒ½å…¨ä¹¦ç¿»è¯‘", tagline: "æ™ºèƒ½å…¨ä¹¦ç¿»è¯‘",
    epub_only: "ä»…æ”¯æŒ EPUB æ ¼å¼",
    api_key_missing: "âš ï¸ æœªè®¾ç½® API Keyï¼Œè¯·å…ˆè¾“å…¥å¹¶ä¿å­˜è®¾ç½®",
    api_key_missing_upload: "è¯·å…ˆåœ¨ä¾§è¾¹æ è®¾ç½®å¹¶ä¿å­˜ API Keyï¼Œå¦åˆ™æ— æ³•è¿›è¡Œç¿»è¯‘ã€‚",
    llm_settings: "LLM è®¾ç½®", provider: "æä¾›å•†", api_key: "API Key",
    analysis_model: "åˆ†ææ¨¡å‹",
    translation_model: "ç¿»è¯‘æ¨¡å‹ (å¯é€‰, ç•™ç©ºåˆ™ä½¿ç”¨åˆ†ææ¨¡å‹)",
    temperature: "Temperature", save_settings: "ä¿å­˜è®¾ç½®",
    settings_saved: "LLM è®¾ç½®å·²ä¿å­˜ï¼", save_failed: "ä¿å­˜å¤±è´¥",
    upload_title: "ä¸Šä¼  EPUB æ–‡ä»¶", target_language: "ç›®æ ‡è¯­è¨€",
    uploading: "ä¸Šä¼ ä¸­â€¦", upload_btn: "ä¸Šä¼ å¹¶å¼€å§‹åˆ†æ",
    step_upload: "ä¸Šä¼ ", step_analysis: "åˆ†æ", step_strategy: "ç­–ç•¥",
    step_sample: "æ ·ç« ", step_translate: "ç¿»è¯‘", step_review: "å®¡é˜…",
    step_reader: "é˜…è¯»", step_done: "å®Œæˆ",
    analyzing: "æ­£åœ¨æ·±åº¦åˆ†æâ€¦",
    genre: "ä½“è£", themes: "ä¸»é¢˜", writing_style: "å†™ä½œé£æ ¼",
    setting_bg: "èƒŒæ™¯è®¾å®š", characters: "ä¸»è¦è§’è‰²",
    key_terms: "å…³é”®æœ¯è¯­", cultural_notes: "æ–‡åŒ–æ³¨é‡Š",
    author_label: "ä½œè€…", author_info: "ä½œè€…ç®€ä»‹",
    research_report: "å®Œæ•´è°ƒç ”æŠ¥å‘Š", translation_notes: "ç¿»è¯‘æ³¨æ„äº‹é¡¹",
    chapter_overview: "ç« èŠ‚æ¦‚è§ˆ",
    analysis_feedback: "å¦‚æœ‰åˆ†æé”™è¯¯ï¼ˆå¦‚è§’è‰²åç§°ã€æœ¯è¯­ç­‰ï¼‰ï¼Œè¯·åœ¨æ­¤è¾“å…¥ä¿®æ­£æ„è§ï¼š",
    refine_analysis: "é‡æ–°åˆ†æ",
    generate_strategy: "ç”Ÿæˆç¿»è¯‘ç­–ç•¥ â†’",
    source_lang_label: "æºè¯­è¨€ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰", target_lang_label: "ç›®æ ‡è¯­è¨€", save_lang: "ä¿å­˜",
    strategy_title: "ç¿»è¯‘ç­–ç•¥", overall_approach: "æ€»ä½“ç­–ç•¥", tone_and_style: "è¯­æ°”ä¸é£æ ¼",
    character_names: "è§’è‰²åç§°", glossary: "æœ¯è¯­è¡¨",
    cultural_adaptation: "æ–‡åŒ–é€‚åº”", special_considerations: "ç‰¹æ®Šæ³¨æ„äº‹é¡¹",
    custom_instructions: "è‡ªå®šä¹‰æŒ‡ä»¤",
    strategy_feedback: "å¯¹ç¿»è¯‘ç­–ç•¥æœ‰ä¿®æ”¹å»ºè®®ï¼Ÿè¯·è¾“å…¥ï¼š",
    regen_strategy: "é‡æ–°ç”Ÿæˆç­–ç•¥", back_to_analysis: "â† è¿”å›åˆ†æ",
    translate_sample: "ç¿»è¯‘æ ·ç« ", sample_chapter: "é€‰æ‹©æ ·ç« ",
    sample_title: "æ ·ç« ç¿»è¯‘",
    sample_hint: "è¯·å®¡é˜…è¯‘æ–‡è´¨é‡ã€‚å¦‚ä¸æ»¡æ„ï¼Œå¯ä¿®æ”¹ç¿»è¯‘ç­–ç•¥åé‡æ–°ç¿»è¯‘ã€‚",
    retranslate_sample: "ä¿®æ”¹ç­–ç•¥å¹¶é‡æ–°ç¿»è¯‘æ ·ç« ",
    start_full_translate: "å¼€å§‹ç¿»è¯‘é€‰å®šå†…å®¹ â†’",
    from_chapter: "ä»ç¬¬", to_chapter: "åˆ°ç¬¬", chapter_unit: "é¡¹",
    invalid_range: "è¯·é€‰æ‹©æœ‰æ•ˆçš„èŒƒå›´", confirm_translate_range: "ç¡®è®¤ç¿»è¯‘", total_prefix: "å…±",
    items_translated: "é¡¹å·²ç¿»è¯‘",
    translating: "ç¿»è¯‘ä¸­â€¦", stop_translate: "åœæ­¢ç¿»è¯‘",
    confirm_stop: "ç¡®è®¤åœæ­¢ç¿»è¯‘ï¼Ÿå½“å‰æ–‡æœ¬å—ç¿»è¯‘å®Œæˆåå°†ç«‹å³åœæ­¢ï¼Œå·²ç¿»è¯‘å†…å®¹ä¸ä¼šä¸¢å¤±ã€‚",
    stopping_hint: "â³ ç­‰å¾…å½“å‰æ–‡æœ¬å—å®Œæˆååœæ­¢â€¦",
    translate_stopped: "â¸ ç¿»è¯‘å·²åœæ­¢", translate_done: "âœ… ç¿»è¯‘å®Œæˆï¼",
    review_title: "ğŸ“– å®¡é˜…è¯‘æ–‡",
    review_hint: "ç‚¹å‡»å·²ç¿»è¯‘çš„ç« èŠ‚è¿›å…¥é˜…è¯»å™¨é˜…è¯»ã€‚å¦‚æœå¯¹æŸç« ä¸æ»¡æ„ï¼Œå¯ä»¥åœ¨é˜…è¯»å™¨ä¸­é‡æ–°ç¿»è¯‘ã€‚",
    translate_more: "ğŸ“– ç»§ç»­ç¿»è¯‘æ›´å¤šç« èŠ‚",
    start_translate: "å¼€å§‹ç¿»è¯‘ â†’", confirm_done: "ç¡®è®¤å®Œæˆï¼Œå‰å¾€ä¸‹è½½ â†’",
    chapter_prefix: "ç¬¬", frontmatter: "å‰è¨€", part_divider: "éƒ¨/å·",
    backmatter: "é™„å½•", body_chapter: "æ­£æ–‡", select_all: "å…¨éƒ¨",
    original_title: "åŸæ–‡æ ‡é¢˜", translated_title: "è¯‘æ–‡æ ‡é¢˜",
    edit_chapter_titles: "âœï¸ ç¼–è¾‘ç« èŠ‚æ ‡é¢˜",
    edit_titles_hint: "è®¾ç½®ç« èŠ‚ç±»å‹ï¼ˆå‰è¨€/æ­£æ–‡/é™„å½•ï¼‰å’ŒåŒè¯­æ ‡é¢˜ã€‚æ­£æ–‡ç±»ç« èŠ‚å°†è‡ªåŠ¨ç¼–å·ã€‚",
    edit_titles_note: "å¯è®¾ç½®å‰è¨€/æ­£æ–‡/é™„å½•ç±»å‹ï¼Œç¼–è¾‘åŒè¯­æ ‡é¢˜",
    save_all_titles: "ä¿å­˜æ‰€æœ‰æ ‡é¢˜", cancel: "å–æ¶ˆ", close: "å…³é—­",
    back_to_review: "â† è¿”å›å®¡é˜…",
    retranslate_this: "ğŸ”„ é‡æ–°ç¿»è¯‘æœ¬ç« ", show_original: "æ˜¾ç¤ºåŸæ–‡",
    ai_assistant: "ğŸ¤– AI ç¿»è¯‘åŠ©æ‰‹",
    ai_hint: "é€‰ä¸­æ–‡å­—åæé—®ï¼Œæˆ–ç›´æ¥è¾“å…¥é—®é¢˜",
    selected_text: "é€‰ä¸­æ–‡å­—ï¼š",
    ask_placeholder: "ä¾‹å¦‚ï¼šè¿™é‡Œä¸ºä»€ä¹ˆè¿™æ ·ç¿»è¯‘ï¼ŸåŸæ–‡æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ",
    ask_btn: "æé—®", not_translated_yet: "æœ¬ç« å°šæœªç¿»è¯‘",
    combine_download: "åˆå¹¶ä¸ºå®Œæ•´ EPUB å¹¶ä¸‹è½½", merging: "åˆå¹¶ä¸­â€¦",
    download_chapters: "é€ç« ä¸‹è½½", continue_translate: "ç»§ç»­ç¿»è¯‘å‰©ä½™ç« èŠ‚",
    new_book: "ç¿»è¯‘æ–°ä¹¦", home: "ğŸ  ç¿»è¯‘æ–°ä¹¦",
    done_hint_stopped: "å·²ç¿»è¯‘çš„ç« èŠ‚å·²ä¿å­˜ã€‚æ‚¨å¯ä»¥ä¸‹è½½å·²å®Œæˆçš„ç« èŠ‚ï¼Œæˆ–ç»§ç»­ç¿»è¯‘å‰©ä½™éƒ¨åˆ†ã€‚",
    done_hint_complete: "æ¯ç« è¯‘æ–‡å·²å•ç‹¬ä¿å­˜ä¸º EPUBã€‚æ‚¨å¯ä»¥é€ç« ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥åˆå¹¶ä¸ºå®Œæ•´è¯‘æœ¬ã€‚",
    download_epub: "ä¸‹è½½ EPUB",
    translated: "å·²ç¿»è¯‘", not_translated: "æœªç¿»è¯‘",
    status_translated: "å·²ç¿»è¯‘", status_translating: "ç¿»è¯‘ä¸­â€¦", status_pending: "æœªç¿»è¯‘",
    language: "ç½‘ç«™è¯­è¨€/Website Language", projects: "é¡¹ç›®åˆ—è¡¨",
    no_projects: "æš‚æ— é¡¹ç›®ï¼Œä¸Šä¼  EPUB å¼€å§‹ç¿»è¯‘",
    prev_chapter: "â—€ ä¸Šä¸€ç« ", next_chapter: "ä¸‹ä¸€ç«  â–¶",
    generating_strategy: "æ­£åœ¨ç”Ÿæˆç¿»è¯‘ç­–ç•¥â€¦",
    ai_translate_titles: "ğŸ¤– AI ä¸€é”®ç¿»è¯‘æ‰€æœ‰æ ‡é¢˜",
    ai_translate_titles_short: "ğŸ¤– ç¿»è¯‘æ ‡é¢˜",
    translating_titles: "æ­£åœ¨ç¿»è¯‘æ ‡é¢˜â€¦", titles_translated: "æ ‡é¢˜ç¿»è¯‘å®Œæˆï¼",
    auto_number: "ğŸ”¢ è‡ªåŠ¨ç¼–å·æ­£æ–‡ç« èŠ‚",
    strip_numbers: "ğŸ”¢ å»é™¤è¯‘æ–‡ç¼–å·",
    copy_numbers: "ğŸ”¢ ä»åŸæ–‡å¤åˆ¶ç¼–å·åˆ°è¯‘æ–‡",
    no_numbers_found: "æœªæ£€æµ‹åˆ°ç¼–å·ã€‚",
    auto_number_done: "å·²ä¸º {n} ä¸ªæ­£æ–‡ç« èŠ‚è‡ªåŠ¨ç¼–å·ã€‚",
    numbering_per_part: "æ£€æµ‹åˆ°ï¼šåˆ†éƒ¨ç¼–å·ï¼ˆæ¯éƒ¨é‡æ–°å¼€å§‹ï¼‰",
    numbering_continuous: "æ£€æµ‹åˆ°ï¼šè¿ç»­ç¼–å·ï¼ˆè·¨éƒ¨é€’å¢ï¼‰",
    auto_number_confirm: "ç¡®è®¤åº”ç”¨è‡ªåŠ¨ç¼–å·ï¼Ÿ",
    delete_project: "åˆ é™¤é¡¹ç›®",
    confirm_delete_project: "ç¡®å®šè¦åˆ é™¤é¡¹ç›®ã€Œ{name}ã€å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼Œæ‰€æœ‰æ•°æ®å°†è¢«æ°¸ä¹…åˆ é™¤ã€‚",
    delete_failed: "åˆ é™¤å¤±è´¥",
    add_row: "+ æ·»åŠ è§’è‰²", add_glossary_row: "+ æ·»åŠ æœ¯è¯­",
    annotation_options: "æ ‡æ³¨é€‰é¡¹",
    annotate_terms: "å¯¹æ— é€šç”¨æ ‡å‡†è¯‘åçš„ä¹¦åã€åœ°åã€ä¸“ä¸šæœ¯è¯­ï¼Œåœ¨æ¯æ¬¡è¯·æ±‚æ–‡æœ¬ä¸­é¦–æ¬¡å‡ºç°æ—¶ç”¨æ‹¬å·æ ‡æ³¨åŸæ–‡ï¼ˆå·²æœ‰å…¬è®¤ç¿»è¯‘çš„å¸¸è§åœ°å/æœ¯è¯­ä¸æ ‡æ³¨ï¼‰",
    annotate_names: "å¯¹éä¸»è§’äººåï¼Œåœ¨æ¯æ¬¡è¯·æ±‚æ–‡æœ¬ä¸­é¦–æ¬¡å‡ºç°æ—¶ç”¨æ‹¬å·æ ‡æ³¨åŸæ–‡ï¼›åŒä¸€å¥å‡ºç°å¤§é‡ä¸é‡è¦äººåæ—¶ä»…æ ‡æ³¨å…³é”®è§’è‰²",
    annotate_hint: "ä¾‹ï¼šé»˜é‡Œï¼ˆMurrayï¼‰å’Œæ±¤æ™®æ£®ï¼ˆThompsonï¼‰èµ°è¿›æˆ¿é—´ï¼Œä¾è€…æ±‰æ–¯é€’ä¸Šäº†èœå•ã€‚â† æ±‰æ–¯ä¸ºä¸€æ¬¡æ€§è§’è‰²ï¼Œä¸æ ‡æ³¨ã€‚æ—¥å†…ç“¦ã€éœæ ¼æ²ƒèŒ¨ç­‰æœ‰å…¬è®¤è¯‘åçš„åœ°åä¸æ ‡æ³¨ã€‚",
    translation_style_options: "ç¿»è¯‘é£æ ¼é€‰é¡¹",
    free_translation: "é•¿éš¾å¥ä¼˜å…ˆæ„è¯‘ï¼šé‡åˆ°å¤æ‚é•¿å¥æ—¶ä¼˜å…ˆæ‹†åˆ†ã€é‡ç»„ä»¥ä¿è¯å¯è¯»æ€§ï¼Œè€Œéä¿æŒåŸå¥ç»“æ„",
    enable_annotations: "ç”Ÿæˆç¿»è¯‘é™„æ³¨ï¼šAI åœ¨ç¿»è¯‘æ—¶é¢å¤–ç”Ÿæˆé•¿éš¾å¥/æ–‡åŒ–èƒŒæ™¯çš„æ„è¯‘åˆ†æï¼Œå¯åœ¨é˜…è¯»å™¨ä¸­æŸ¥çœ‹",
    annotations_hint: "é™„æ³¨ä¼šè§£é‡Šç¿»è¯‘é€‰æ‹©ã€åŸæ–‡ç›´è¯‘å«ä¹‰å’Œæ–‡åŒ–èƒŒæ™¯ï¼Œæ–¹ä¾¿æ·±åº¦é˜…è¯»å¯¹æ¯”ã€‚å¯åœ¨é˜…è¯»å™¨ä¸­åˆ‡æ¢æ˜¾ç¤ºï¼Œä¹Ÿå¯å¯¼å‡ºä¸º EPUBã€‚",
    show_annotations: "æ˜¾ç¤ºé™„æ³¨",
    view_all_annotations: "ğŸ“ æŸ¥çœ‹æ‰€æœ‰é™„æ³¨",
    annotations_panel: "ğŸ“ ç¿»è¯‘é™„æ³¨", no_annotations: "æœ¬ç« æš‚æ— é™„æ³¨",
    annotation_src: "åŸæ–‡", annotation_tgt: "è¯‘æ–‡", annotation_note: "è¯´æ˜",
    download_annotations_epub: "ğŸ“¥ ä¸‹è½½é™„æ³¨ EPUB",
    reader_height: "é˜…è¯»æ¡†é«˜åº¦", height_compact: "ç´§å‡‘", height_standard: "æ ‡å‡†", height_tall: "æœ€å¤§",
    reader_font_size: "å­—ä½“å¤§å°",
    reader_theme: "é˜…è¯»ä¸»é¢˜", theme_dark: "æš—è‰²", theme_light: "äº®è‰²", theme_sepia: "æŠ¤çœ¼",
    click_to_edit_names: "âœï¸ ç‚¹å‡»å•å…ƒæ ¼å¯ç›´æ¥ç¼–è¾‘åç§°å’Œè¯‘æ–‡",
    click_to_edit_glossary: "âœï¸ ç‚¹å‡»å•å…ƒæ ¼å¯ç›´æ¥ç¼–è¾‘æœ¯è¯­å’Œè¯‘æ–‡",
    character_names: "è§’è‰²åç¿»è¯‘", glossary: "æœ¯è¯­è¡¨",
    original: "åŸæ–‡", translated: "è¯‘æ–‡", note: "å¤‡æ³¨", context: "ä¸Šä¸‹æ–‡",
    name_table: "ğŸ“‹ å…¨ä¹¦äººåè¡¨",
    name_table_hint: "æ˜¾ç¤ºç¿»è¯‘è¿‡ç¨‹ä¸­æ£€æµ‹åˆ°çš„å‡ºç°ä¸¤æ¬¡ä»¥ä¸Šçš„äººååŠå…¶è¯‘åã€‚ä»…æ˜¾ç¤ºäººåç»Ÿè®¡ï¼Œä¸åŒ…å«ä¸€æ¬¡æ€§å‡ºç°çš„åå­—ã€‚",
    name_table_experimental: "âš ï¸ æ­¤åŠŸèƒ½ä»ä¸ºå®éªŒæ€§åŠŸèƒ½ï¼ŒäººååŒ¹é…å’Œè¯‘åæ£€æµ‹å¯èƒ½ä¸å®Œå…¨å‡†ç¡®ã€‚ä¸€é”®ç»Ÿä¸€è¯‘ååŠŸèƒ½æš‚æœªå¼€æ”¾ã€‚",
    occurrences: "å‡ºç°æ¬¡æ•°", translations_used: "ä½¿ç”¨çš„è¯‘å",
    unify: "ç»Ÿä¸€", unify_to: "ç»Ÿä¸€ä¸º:", unify_done: "å·²ç»Ÿä¸€ {n} å¤„",
    no_name_data: "æš‚æ— äººåæ•°æ®ï¼Œç¿»è¯‘å®Œæˆåå°†è‡ªåŠ¨ç”Ÿæˆ",
    rescan_names: "ğŸ”„ é‡æ–°æ‰«æå…¨ä¹¦äººå",
    rescan_names_hint: "é‡æ–°æ‰«ææ‰€æœ‰å·²ç¿»è¯‘ç« èŠ‚ï¼Œæ›´æ–°äººåç»Ÿè®¡",
    scanning: "æ‰«æä¸­â€¦",
    scan_bg_hint: "æ‰«æåœ¨åå°è¿è¡Œï¼Œå¯ä»¥å…³é—­æ­¤é¢æ¿ç¨åå†å›æ¥æŸ¥çœ‹ç»“æœã€‚",
    preferred_translation: "é¦–é€‰è¯‘å",
    actions: "æ“ä½œ",
    no_translations: "æœªæ£€æµ‹åˆ°",
    enter_translation: "è¯·è¾“å…¥è¯‘å",
    search_replace: "æœç´¢æ›¿æ¢",
    enter_find_text: "è¾“å…¥è¦æ›¿æ¢çš„æ–‡æœ¬ï¼ˆå°†åœ¨å…¨ä¹¦ä¸­è¢«æ›¿æ¢ä¸ºé¦–é€‰è¯‘åï¼‰ï¼š",
    replace_all_with_preferred: "å…¨ä¹¦æ›¿æ¢ä¸ºé¦–é€‰è¯‘å",
    custom_replace: "è‡ªå®šä¹‰æœç´¢æ›¿æ¢",
  },
  en: {
    app_title: "BiTranslator â€“ Intelligent Book Translation", tagline: "Intelligent Book Translation",
    epub_only: "EPUB format only",
    api_key_missing: "âš ï¸ API Key not set. Please enter and save your key first.",
    api_key_missing_upload: "Please set and save your API Key in the sidebar before uploading.",
    llm_settings: "LLM Settings", provider: "Provider", api_key: "API Key",
    analysis_model: "Analysis Model",
    translation_model: "Translation Model (optional, uses analysis model if empty)",
    temperature: "Temperature", save_settings: "Save Settings",
    settings_saved: "LLM settings saved!", save_failed: "Save failed",
    upload_title: "Upload EPUB File", target_language: "Target Language",
    uploading: "Uploadingâ€¦", upload_btn: "Upload & Start Analysis",
    step_upload: "Upload", step_analysis: "Analysis", step_strategy: "Strategy",
    step_sample: "Sample", step_translate: "Translate", step_review: "Review",
    step_reader: "Reader", step_done: "Done",
    analyzing: "Deep analyzingâ€¦",
    genre: "Genre", themes: "Themes", writing_style: "Writing Style",
    setting_bg: "Setting", characters: "Main Characters",
    key_terms: "Key Terms", cultural_notes: "Cultural Notes",
    author_label: "Author", author_info: "Author Info",
    research_report: "Full Research Report", translation_notes: "Translation Notes",
    chapter_overview: "Chapter Overview",
    analysis_feedback: "If the analysis has errors (character names, terms, etc.), enter corrections here:",
    refine_analysis: "Re-analyze",
    generate_strategy: "Generate Translation Strategy â†’",
    source_lang_label: "Source Language (auto-detected)", target_lang_label: "Target Language", save_lang: "Save",
    strategy_title: "Translation Strategy", overall_approach: "Overall Approach", tone_and_style: "Tone & Style",
    character_names: "Character Names", glossary: "Glossary",
    cultural_adaptation: "Cultural Adaptation", special_considerations: "Special Considerations",
    custom_instructions: "Custom Instructions",
    strategy_feedback: "Any suggestions to modify the translation strategy?",
    regen_strategy: "Regenerate Strategy", back_to_analysis: "â† Back to Analysis",
    translate_sample: "Translate Sample", sample_chapter: "Select Sample Chapter",
    sample_title: "Sample Translation",
    sample_hint: "Review translation quality. If unsatisfied, modify the strategy and re-translate.",
    retranslate_sample: "Modify Strategy & Re-translate Sample",
    start_full_translate: "Start Translating Selected Items â†’",
    from_chapter: "From #", to_chapter: "To #", chapter_unit: "",
    invalid_range: "Please select a valid range", confirm_translate_range: "Confirm translating", total_prefix: "total",
    items_translated: "items translated",
    translating: "Translatingâ€¦", stop_translate: "Stop Translation",
    confirm_stop: "Stop translation? It will stop after the current text chunk finishes. Already translated content is saved.",
    stopping_hint: "â³ Stopping after current chunkâ€¦",
    translate_stopped: "â¸ Translation Stopped", translate_done: "âœ… Translation Complete!",
    review_title: "ğŸ“– Review Translations",
    review_hint: "Click a translated chapter to open the reader. Re-translate from within the reader if needed.",
    translate_more: "ğŸ“– Translate More Chapters",
    start_translate: "Start Translation â†’", confirm_done: "Confirm & Go to Download â†’",
    chapter_prefix: "Ch.", frontmatter: "Front Matter", part_divider: "Part/Volume",
    backmatter: "Back Matter", body_chapter: "Chapter", select_all: "All",
    original_title: "Original Title", translated_title: "Translated Title",
    edit_chapter_titles: "âœï¸ Edit Chapter Titles",
    edit_titles_hint: "Set chapter types (front matter/chapter/back matter) and bilingual titles. Chapter-type entries are auto-numbered.",
    edit_titles_note: "Set front matter/chapter/back matter types, edit bilingual titles",
    save_all_titles: "Save All Titles", cancel: "Cancel", close: "Close",
    back_to_review: "â† Back to Review",
    retranslate_this: "ğŸ”„ Re-translate This Chapter", show_original: "Show Original",
    ai_assistant: "ğŸ¤– AI Translation Assistant",
    ai_hint: "Select text then ask, or type a question directly",
    selected_text: "Selected text:",
    ask_placeholder: "e.g. Why was this translated this way? What does the original mean?",
    ask_btn: "Ask", not_translated_yet: "Not translated yet",
    combine_download: "Combine into Full EPUB & Download", merging: "Mergingâ€¦",
    download_chapters: "Download by Chapter", continue_translate: "Continue Translating Remaining",
    new_book: "Translate New Book", home: "ğŸ  Translate New Book",
    done_hint_stopped: "Translated chapters are saved. Download completed chapters or continue translating.",
    done_hint_complete: "Each chapter saved as individual EPUB. Download by chapter or combine into one.",
    download_epub: "Download EPUB",
    translated: "Translated", not_translated: "Not Translated",
    status_translated: "Translated", status_translating: "Translatingâ€¦", status_pending: "Pending",
    language: "Language", projects: "Projects",
    no_projects: "No projects yet. Upload an EPUB to start.",
    prev_chapter: "â—€ Prev", next_chapter: "Next â–¶",
    generating_strategy: "Generating translation strategyâ€¦",
    ai_translate_titles: "ğŸ¤– AI Translate All Titles",
    ai_translate_titles_short: "ğŸ¤– Translate Titles",
    translating_titles: "Translating titlesâ€¦", titles_translated: "Titles translated!",
    auto_number: "ğŸ”¢ Auto-number Chapters",
    strip_numbers: "ğŸ”¢ Strip Numbering from Translated",
    copy_numbers: "ğŸ”¢ Copy Numbering from Original",
    no_numbers_found: "No numbering detected.",
    auto_number_done: "Auto-numbered {n} body chapters.",
    numbering_per_part: "Detected: Per-part numbering (resets after each part)",
    numbering_continuous: "Detected: Continuous numbering (across all parts)",
    auto_number_confirm: "Apply auto-numbering?",
    delete_project: "Delete project",
    confirm_delete_project: "Delete project \"{name}\"? This cannot be undone â€” all data will be permanently removed.",
    delete_failed: "Delete failed",
    add_row: "+ Add Character", add_glossary_row: "+ Add Term",
    annotation_options: "Annotation Options",
    annotate_terms: "Annotate book titles, place names, and terms that lack a widely-accepted translation (first occurrence per request; skip well-known places/terms)",
    annotate_names: "Annotate non-protagonist names on first occurrence per request; when many names appear in one sentence, only annotate key recurring ones",
    annotate_hint: 'e.g., Murray and Thompson are annotated; Hans the waiter (one-off minor role) is not. Well-known places like Geneva or Hogwarts are not annotated.',
    translation_style_options: "Translation Style Options",
    free_translation: "Prioritize readability for complex sentences: restructure long/complex sentences for clarity rather than preserving original sentence structure",
    enable_annotations: "Generate translator's notes: AI produces explanatory annotations for difficult sentences and cultural references, viewable in the reader",
    annotations_hint: "Annotations explain translation choices, literal meanings, and cultural context for in-depth reading. Toggle in reader or export as EPUB.",
    show_annotations: "Show Annotations",
    view_all_annotations: "ğŸ“ View All Notes",
    annotations_panel: "ğŸ“ Translator's Notes", no_annotations: "No annotations for this chapter",
    annotation_src: "Original", annotation_tgt: "Translation", annotation_note: "Note",
    download_annotations_epub: "ğŸ“¥ Download Annotations EPUB",
    reader_height: "Reader Height", height_compact: "Compact", height_standard: "Standard", height_tall: "Tall",
    reader_font_size: "Font Size",
    reader_theme: "Theme", theme_dark: "Dark", theme_light: "Light", theme_sepia: "Sepia",
    click_to_edit_names: "âœï¸ Click any cell to edit names and translations",
    click_to_edit_glossary: "âœï¸ Click any cell to edit terms and translations",
    character_names: "Character Names", glossary: "Glossary",
    original: "Original", translated: "Translated", note: "Note", context: "Context",
    name_table: "ğŸ“‹ Name Table",
    name_table_hint: "Shows character names that appear more than once, along with their detected translations. Names appearing only once are excluded.",
    name_table_experimental: "âš ï¸ This feature is still experimental. Name matching and translation detection may not be fully accurate. One-click unification is currently disabled.",
    occurrences: "Occurrences", translations_used: "Translations Used",
    unify: "Unify", unify_to: "Unify to:", unify_done: "Unified {n} occurrences",
    no_name_data: "No name data yet. It will be generated after translation.",
    rescan_names: "ğŸ”„ Rescan All Names",
    rescan_names_hint: "Re-scan all translated chapters and update name statistics",
    scanning: "Scanningâ€¦",
    scan_bg_hint: "Scan runs in background. You can close this panel and check back later.",
    preferred_translation: "Preferred",
    actions: "Actions",
    no_translations: "Not detected",
    enter_translation: "Enter translation",
    search_replace: "Find & Replace",
    enter_find_text: "Enter text to find (will be replaced with preferred translation across all chapters):",
    replace_all_with_preferred: "Replace all with preferred translation",
    custom_replace: "Custom find & replace",
  },
};

export let currentLang = localStorage.getItem("app-lang") || "zh";

export function t(key) {
  return (I18N[currentLang] && I18N[currentLang][key]) || I18N.zh[key] || key;
}

export function applyI18n() {
  document.title = t("app_title");
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (el.tagName === "INPUT" && el.type !== "button" && el.type !== "submit") {
      el.placeholder = t(key);
    } else {
      const firstChild = el.firstChild;
      if (firstChild && firstChild.nodeType === Node.TEXT_NODE && el.children.length > 0) {
        firstChild.textContent = t(key) + " ";
      } else if (el.children.length === 0) {
        el.textContent = t(key);
      }
    }
  });
}

export function setLang(lang) {
  currentLang = lang;
  localStorage.setItem("app-lang", lang);
  applyI18n();
}

export function statusLabel(s) {
  const zh = {
    uploaded: "å·²ä¸Šä¼ ", analyzing: "åˆ†æä¸­â€¦", analyzed: "å·²åˆ†æ",
    generating_strategy: "ç­–ç•¥ç”Ÿæˆä¸­â€¦", strategy_generated: "ç­–ç•¥å°±ç»ª",
    translating_sample: "æ ·ç« ç¿»è¯‘ä¸­â€¦", sample_ready: "æ ·ç« å°±ç»ª",
    translating: "ç¿»è¯‘ä¸­â€¦", stopped: "å·²åœæ­¢", completed: "å·²å®Œæˆ", error: "å‡ºé”™",
  };
  const en = {
    uploaded: "Uploaded", analyzing: "Analyzingâ€¦", analyzed: "Analyzed",
    generating_strategy: "Generating strategyâ€¦", strategy_generated: "Strategy ready",
    translating_sample: "Translating sampleâ€¦", sample_ready: "Sample ready",
    translating: "Translatingâ€¦", stopped: "Stopped", completed: "Completed", error: "Error",
  };
  return (currentLang === "en" ? en : zh)[s] || s;
}
